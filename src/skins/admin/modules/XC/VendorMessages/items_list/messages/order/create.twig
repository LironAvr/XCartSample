{##
 # Messages list
 #}

<div class="new-message {{ this.getNewMessageClass() }}">

    <div class="form-group body">
        <textarea name="body" class="form-control" id="newMessageBody" rows="8" placeholder="{{ t('Write your message') }}"></textarea>
    </div>

    <div class="form-group">
        {{ widget('XLite\\View\\Button\\Regular', style='regular-main-button', action='update_messages', label=t('Submit')) }}
        {# Commented out to clarify the requirements if:isAllowWatch()}
            <widget class="XLite\View\Button\Regular" label="{t(#Unsubscribe#)}" action="unwatch_discussion" style="btn regular-button unwatch-btn" />
            <widget class="XLite\View\Button\Regular" label="{t(#Subscribe#)}" action="watch_discussion" style="btn regular-button watch-btn" />
        {end:#}
        {% if this.isAllowDispute() %}
          <div class="right">
              {% if this.isOpenedDispute() %}
                  {{ widget('XLite\\Module\\XC\\VendorMessages\\View\\Button\\CloseDispute', order=this.order, recipient_id=this.currentThreadOrder.getOrderId()) }}
              {% else %}
                  {{ widget('XLite\\Module\\XC\\VendorMessages\\View\\Button\\OpenDispute', order=this.order, recipient_id=this.currentThreadOrder.getOrderId()) }}
              {% endif %}
          </div>
        {% endif %}
    </div>

</div>

